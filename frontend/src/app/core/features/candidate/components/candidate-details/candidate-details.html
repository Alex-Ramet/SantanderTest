<div class="details-container">
  <h3>Candidate Details</h3>

  @if (candidate && form) {
  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="details-form">
    <div class="form-field name-field">
      <mat-label>Name</mat-label>
      <input formControlName="name" placeholder="Enter name" />
      @if (form.get('name')?.invalid && form.get('name')?.touched) {
      <mat-error>{{ getErrorMessage('name') }}</mat-error>
      }
    </div>

    <div class="form-field surname-field">
      <mat-label>Surname</mat-label>
      <input formControlName="surname" placeholder="Enter surname" />
      @if (form.get('surname')?.invalid && form.get('surname')?.touched) {
      <mat-error>{{ getErrorMessage('surname') }}</mat-error>
      }
    </div>

    <div class="form-field seniority-field">
      <mat-label>Seniority</mat-label>
      <mat-select formControlName="seniority">
        @for (option of seniorityOptions; track option.value) {
        <mat-option [value]="option.value">{{ option.label }}</mat-option>
        }
      </mat-select>
      @if (form.get('seniority')?.invalid && form.get('seniority')?.touched) {
      <mat-error>{{ getErrorMessage('seniority') }}</mat-error>
      }
    </div>

    <div class="form-field years-field">
      <mat-label>Years</mat-label>
      <input type="number" formControlName="years" placeholder="Enter year" />
      @if (form.get('years')?.invalid && form.get('years')?.touched) {
      <mat-error>{{ getErrorMessage('years') }}</mat-error>
      }
    </div>

    <div class="form-field availability-field">
      <div class="availability-container">
        <mat-label>Availability</mat-label>
        <div class="checkbox-container">
          <mat-checkbox formControlName="availability" class="availability-checkbox"></mat-checkbox>
        </div>
      </div>
    </div>

    <div class="form-actions">
      <button type="button" mat-stroked-button (click)="onDelete()" class="delete-btn">
        Delete
      </button>
      <button type="button" mat-stroked-button (click)="onCancel()" class="cancel-btn">
        Cancel
      </button>
      <button
        type="submit"
        mat-raised-button
        color="primary"
        [disabled]="form.invalid"
        class="save-btn"
      >
        Save
      </button>
    </div>
  </form>
  }
</div>
